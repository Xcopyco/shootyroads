<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
		<title>Shooty Roads</title>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bigfishtv-turret/4.0.0/turret.min.css" crossorigin="anonymous">
		<link rel="stylesheet" type="text/css" href="css/main.css" />
	</head>

	<script src="https://cdn.jsdelivr.net/sockjs/1/sockjs.min.js"></script>
	<script src="lib/zepto.min.js"></script>
	<script src="lib/moment.min.js"></script>
	<script src="lib/underscore.min.js"></script>
	<script src="lib/knockout-3.4.2.js"></script>

	<script src="js/messages.js"></script>
	<script src="js/utils.js"></script>
	<script src="js/network.js"></script>

	<script src="js/character.js"></script>
	<script src="js/enemy.js"></script>
	<script src="js/bullet.js"></script>
	<script src="js/particle.js"></script>

	<script src="js/app.js"></script>
	<script src="js/game.js"></script>

	<body>
		<canvas
			data-bind="visible: currentState() == states.GAME"
			class="item game"
			id="game">
		</canvas>

		<!-- ko if: currentState() == states.MAIN_MENU -->
		<div class="item">
			<button
				data-bind="click: singlePlayer"
				class="button button-primary b-item">
				Single Player
			</button>
			<button
				data-bind="click: hostGame"
				class="button button-primary b-item">
				Host Game
			</button>
			<button
			 	data-bind="click: joinGame"
				class="button button-primary b-item">
				Join Game
			</button>
			<button
				class="button button-primary m-item"
				style="background: #2a2a2a;">
			</button>
		</div>
		<!-- /ko -->

		<!-- ko if: currentState() == states.GAME_OVER -->
		<div class="item">
			<button class="m-item">
				<span id="score"></span>
			</button>
			<button
				data-bind="click: home"
				class="b-item">
				Home
			</button>
			<button
				data-bind="click: replay"
				class="b-item">
				Replay
			</button>
		</div>
		<!-- /ko -->

		<!-- ko if: currentState() == states.HOSTING_SETUP -->
		<div class="item">
			<input
			 	data-bind="value: serverName"
				class="b-item"
				type="text"
				placeholder="Your name...">
			</input>
			<button
				data-bind="text: 'Room name: ' + roomName()"
				class="b-item">
			</button>
			<button
				data-bind="click: startHosting"
				class="b-item">
				Start Hosting...
			</button>
			<button
				class="b-item">
				Cancel
			</button>
		</div>
		<!-- /ko -->

		<!-- ko if: currentState() == states.HOST_WAITING -->
		<div class="item">
			<button
				data-bind="text: serverName"
				class="b-item">
			</button>
			<button
				data-bind="text: 'Room name: ' + roomName()"
				class="b-item">
			</button>
			<button class="b-item">
				Waiting for a player to join...
			</button>
			<button class="b-item">
				Cancel
			</button>
		</div>
		<!-- /ko -->

		<!-- ko if: currentState() == states.HOST_READY -->
		<div class="item">
			<button
				data-bind="text: serverName"
				class="b-item">
			</button>
			<button
				data-bind="text: 'Room name: ' + roomName()"
				class="b-item">
			</button>
			<button
				data-bind="text: clientName() + ' has joined!'"
				class="b-item">
			</button>
			<button
			 	data-bind="click: hostStartGame"
				class="b-item">
				Start Game!
			</button>
			<button class="b-item">
				Cancel
			</button>
		</div>
		<!-- /ko -->

		<!-- ko if: currentState() == states.JOINING -->
		<div class="item">
			<input
			 	data-bind="value: clientName"
				type="text"
				placeholder="Your name..."></input>
			<input
				data-bind="value: roomName"
				type="text"
				placeholder="Room name..."></input>
			<button
			 	data-bind="click: joiningGame"
				class="b-item">
				Join Room
			</button>
			<button class="b-item">
				Cancel
			</button>
		</div>
		<!-- /ko -->

		<!-- ko if: currentState() == states.JOIN_WAITING -->
		<div class="item">
			<button
				data-bind="text: clientName"
				class="b-item">
			</button>
			<button
				data-bind="text: serverName() + ' is hosting ' + roomName()"
				class="b-item">
			</button>
			<button
				data-bind="text: 'Waiting on ' + serverName() + ' to start the game...'"
				class="b-item">
			</button>
			<button class="b-item">
				Cancel
			</button>
		</div>
		<!-- /ko -->

	</body>
</html>
